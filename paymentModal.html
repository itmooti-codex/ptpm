<div x-cloak x-show="modalIsOpen" x-transition.opacity.duration.200ms x-trap.inert.noscroll="modalIsOpen"
     @keydown.esc.window="modalIsOpen = false" @click.self="modalIsOpen = false"
     class="fixed inset-0 z-30 flex items-end justify-center bg-black/20 p-4 pb-8 backdrop-blur-md max-[1100px]:bg-[#f6f6f6] max-[1100px]:p-0 sm:items-center lg:p-8  max-[1100px]:p-0 max-[1100px]:h-screen max-[1100px]:w-screen"
     role="dialog" aria-modal="true" aria-labelledby="defaultModalTitle" data-payment-modal>
  <div class = "fixed top-[24px] right-4 xlg:right-[40px] flex items-center gap-[32px]">
    <svg  @click="
                  body.setAttribute('x-data', `{ isExpandedClientSection: true, isExpandedMaterialsSection: true }`);
                  setTimeout(() => {
                  const element = document.getElementById('paymentContent');
                  const hiddenElements = document.querySelectorAll('.hideInPDF');
                  hiddenElements.forEach(el => el.style.display = 'none');
                  const contentHeight = element.offsetHeight;
                  const contentWidth = element.offsetWidth;
                  const pdfWidth = 10;
                  const pdfHeight = pdfWidth * (contentHeight / contentWidth);
                  const options = {
                  margin: 0,
                  filename: 'payment-details.pdf',
                  image: { type: 'jpeg', quality: 0.98 },
                  html2canvas: { scale: 2 },
                  jsPDF: { 
                  unit: 'in', 
                  format: [pdfWidth, pdfHeight],
                  orientation: 'portrait' 
                  },
                  };
                  html2pdf().set(options).from(element).save().then(() => {
                  hiddenElements.forEach(el => el.style.display = '');
                  });
                  }, 100); 
                  " 
         class = "cursor-pointer max-[1100px]:hidden"
         width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path class="max-[1100px]:fill-dark" d="M20 12.5V19.1667C20 19.3877 19.9122 19.5996 19.7559 19.7559C19.5996 19.9122 19.3877 20 19.1667 20H0.833333C0.61232 20 0.400358 19.9122 0.244078 19.7559C0.0877975 19.5996 0 19.3877 0 19.1667V12.5C0 12.279 0.0877975 12.067 0.244078 11.9107C0.400358 11.7545 0.61232 11.6667 0.833333 11.6667C1.05435 11.6667 1.26631 11.7545 1.42259 11.9107C1.57887 12.067 1.66667 12.279 1.66667 12.5V18.3333H18.3333V12.5C18.3333 12.279 18.4211 12.067 18.5774 11.9107C18.7337 11.7545 18.9457 11.6667 19.1667 11.6667C19.3877 11.6667 19.5996 11.7545 19.7559 11.9107C19.9122 12.067 20 12.279 20 12.5ZM9.41042 13.0896C9.48781 13.1671 9.57972 13.2285 9.68088 13.2705C9.78205 13.3124 9.89049 13.334 10 13.334C10.1095 13.334 10.218 13.3124 10.3191 13.2705C10.4203 13.2285 10.5122 13.1671 10.5896 13.0896L14.7563 8.92292C14.8337 8.84549 14.8951 8.75357 14.937 8.65241C14.9789 8.55125 15.0005 8.44283 15.0005 8.33333C15.0005 8.22384 14.9789 8.11541 14.937 8.01425C14.8951 7.91309 14.8337 7.82117 14.7563 7.74375C14.6788 7.66632 14.5869 7.60491 14.4857 7.563C14.3846 7.5211 14.2762 7.49954 14.1667 7.49954C14.0572 7.49954 13.9487 7.5211 13.8476 7.563C13.7464 7.60491 13.6545 7.66632 13.5771 7.74375L10.8333 10.4885V0.833333C10.8333 0.61232 10.7455 0.400358 10.5893 0.244078C10.433 0.0877973 10.221 0 10 0C9.77899 0 9.56702 0.0877973 9.41074 0.244078C9.25446 0.400358 9.16667 0.61232 9.16667 0.833333V10.4885L6.42292 7.74375C6.26655 7.58738 6.05447 7.49954 5.83333 7.49954C5.6122 7.49954 5.40012 7.58738 5.24375 7.74375C5.08738 7.90012 4.99954 8.1122 4.99954 8.33333C4.99954 8.55447 5.08738 8.76655 5.24375 8.92292L9.41042 13.0896Z" fill="white"/>
    </svg>
    <svg class="max-[1100px]:hidden" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M19.1667 0H5.83333C5.61232 0 5.40036 0.0877975 5.24408 0.244078C5.0878 0.400358 5 0.61232 5 0.833333V5H0.833333C0.61232 5 0.400358 5.0878 0.244078 5.24408C0.0877975 5.40036 0 5.61232 0 5.83333V19.1667C0 19.3877 0.0877975 19.5996 0.244078 19.7559C0.400358 19.9122 0.61232 20 0.833333 20H14.1667C14.3877 20 14.5996 19.9122 14.7559 19.7559C14.9122 19.5996 15 19.3877 15 19.1667V15H19.1667C19.3877 15 19.5996 14.9122 19.7559 14.7559C19.9122 14.5996 20 14.3877 20 14.1667V0.833333C20 0.61232 19.9122 0.400358 19.7559 0.244078C19.5996 0.0877975 19.3877 0 19.1667 0ZM13.3333 18.3333H1.66667V6.66667H13.3333V18.3333ZM18.3333 13.3333H15V5.83333C15 5.61232 14.9122 5.40036 14.7559 5.24408C14.5996 5.0878 14.3877 5 14.1667 5H6.66667V1.66667H18.3333V13.3333Z" fill="white"/>
    </svg>
    <div class="w-10 h-10 p-2 bg-neutral-100 rounded-full justify-center items-center inline-flex cursor-pointer max-[1100px]:hidden" @click = "modalIsOpen = false;">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.75 1.81984L12.1802 0.25L7 5.43016L1.81984 0.25L0.25 1.81984L5.43016 7L0.25 12.1802L1.81984 13.75L7 8.56984L12.1802 13.75L13.75 12.1802L8.56984 7L13.75 1.81984Z" fill="#414042"/>
      </svg>
    </div>
  </div>
  <div x-show="modalIsOpen"
       x-transition:enter="transition ease-out duration-200 delay-100 motion-reduce:transition-opacity"
       x-transition:enter-start="opacity-0 scale-50" x-transition:enter-end=" opacity-100 scale-100"
       class="mainModalWraspper flex flex-col gap-4 bg-white h-[95vh] w-[900px] !overflow-y-auto max-[1100px]:bg-[#f6f6f6] max-[1100px]:h-screen max-[1100px]:w-screen">

    <div class="flex items-center justify-center py-12 text-h3 text-dark hidden" data-payment-loading>
      <div class="flex items-center gap-3">
        <span class="inline-block h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-primary"></span>
        <span>Loading payment...</span>
      </div>
    </div>

    <div class="fullPaymentWrapper flex flex-col items-center justify-end bg-white p-[40px] gap-[24px] max-[1100px]:p-4 max-[1100px]:gap-[16px]" data-payment-id="" data-payment-content id="paymentContent">


      <!-- Billing Header Desktop -->
      <div class="flex flex-col w-full items-center justify-center gap-6 max-[1100px]:hidden">
        <div class="text-center font-['Inter'] text-[28px] font-bold leading-7 text-[#414042]">Billing Summary</div>
        <div class="text-center text-[#414042] text-2xl font-medium font-['Inter'] leading-normal">[Visitor//Contact as Service Provider//Business Entity Name]</div>
      </div>
      <!-- Billing Header Desktop-->

      <!-- Billing Header Mobile -->
      <div class="px-4  pt-3 pb-4 border-b border-[#d3d7e2] w-screen min-[1100px]:hidden flex items-center justify-between">
      <div class=" items-center gap-6 flex w-screen min-[1100px]:hidden">
        <div @click = "modalIsOpen = false;">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19.707 18.292C19.7999 18.3849 19.8736 18.4952 19.9238 18.6166C19.9741 18.738 20 18.8681 20 18.9995C20 19.1309 19.9741 19.261 19.9238 19.3824C19.8736 19.5038 19.7999 19.6141 19.707 19.707C19.6141 19.7999 19.5038 19.8736 19.3824 19.9238C19.261 19.9741 19.1309 20 18.9995 20C18.8681 20 18.738 19.9741 18.6166 19.9238C18.4952 19.8736 18.3849 19.7999 18.292 19.707L10 11.4137L1.70796 19.707C1.52033 19.8946 1.26585 20 1.0005 20C0.735151 20 0.48067 19.8946 0.29304 19.707C0.105409 19.5193 5.23067e-09 19.2648 0 18.9995C-5.23067e-09 18.7341 0.105409 18.4797 0.29304 18.292L8.58633 10L0.29304 1.70796C0.105409 1.52033 -1.97701e-09 1.26585 0 1.0005C1.97701e-09 0.735151 0.105409 0.48067 0.29304 0.29304C0.48067 0.105409 0.735151 1.97701e-09 1.0005 0C1.26585 -1.97701e-09 1.52033 0.105409 1.70796 0.29304L10 8.58633L18.292 0.29304C18.4797 0.105409 18.7341 -5.23067e-09 18.9995 0C19.2648 5.23067e-09 19.5193 0.105409 19.707 0.29304C19.8946 0.48067 20 0.735151 20 1.0005C20 1.26585 19.8946 1.52033 19.707 1.70796L11.4137 10L19.707 18.292Z" fill="#414042"/>
          </svg>
        </div>
        <div class="text-h1 text-dark">Billing Summary</div>
      </div>
         <svg  @click="
                  body.setAttribute('x-data', `{ isExpandedClientSection: true, isExpandedMaterialsSection: true }`);
                  setTimeout(() => {
                  const element = document.getElementById('paymentContent');
                  const hiddenElements = document.querySelectorAll('.hideInPDF');
                  hiddenElements.forEach(el => el.style.display = 'none');
                  const contentHeight = element.offsetHeight;
                  const contentWidth = element.offsetWidth;
                  const pdfWidth = 10;
                  const pdfHeight = pdfWidth * (contentHeight / contentWidth);
                  const options = {
                  margin: 0,
                  filename: 'payment-details.pdf',
                  image: { type: 'jpeg', quality: 0.98 },
                  html2canvas: { scale: 2 },
                  jsPDF: { 
                  unit: 'in', 
                  format: [pdfWidth, pdfHeight],
                  orientation: 'portrait' 
                  },
                  };
                  html2pdf().set(options).from(element).save().then(() => {
                  hiddenElements.forEach(el => el.style.display = '');
                  });
                  }, 100); 
                  " 
         class = "cursor-pointer"
         width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path class="max-[1100px]:fill-dark" d="M20 12.5V19.1667C20 19.3877 19.9122 19.5996 19.7559 19.7559C19.5996 19.9122 19.3877 20 19.1667 20H0.833333C0.61232 20 0.400358 19.9122 0.244078 19.7559C0.0877975 19.5996 0 19.3877 0 19.1667V12.5C0 12.279 0.0877975 12.067 0.244078 11.9107C0.400358 11.7545 0.61232 11.6667 0.833333 11.6667C1.05435 11.6667 1.26631 11.7545 1.42259 11.9107C1.57887 12.067 1.66667 12.279 1.66667 12.5V18.3333H18.3333V12.5C18.3333 12.279 18.4211 12.067 18.5774 11.9107C18.7337 11.7545 18.9457 11.6667 19.1667 11.6667C19.3877 11.6667 19.5996 11.7545 19.7559 11.9107C19.9122 12.067 20 12.279 20 12.5ZM9.41042 13.0896C9.48781 13.1671 9.57972 13.2285 9.68088 13.2705C9.78205 13.3124 9.89049 13.334 10 13.334C10.1095 13.334 10.218 13.3124 10.3191 13.2705C10.4203 13.2285 10.5122 13.1671 10.5896 13.0896L14.7563 8.92292C14.8337 8.84549 14.8951 8.75357 14.937 8.65241C14.9789 8.55125 15.0005 8.44283 15.0005 8.33333C15.0005 8.22384 14.9789 8.11541 14.937 8.01425C14.8951 7.91309 14.8337 7.82117 14.7563 7.74375C14.6788 7.66632 14.5869 7.60491 14.4857 7.563C14.3846 7.5211 14.2762 7.49954 14.1667 7.49954C14.0572 7.49954 13.9487 7.5211 13.8476 7.563C13.7464 7.60491 13.6545 7.66632 13.5771 7.74375L10.8333 10.4885V0.833333C10.8333 0.61232 10.7455 0.400358 10.5893 0.244078C10.433 0.0877973 10.221 0 10 0C9.77899 0 9.56702 0.0877973 9.41074 0.244078C9.25446 0.400358 9.16667 0.61232 9.16667 0.833333V10.4885L6.42292 7.74375C6.26655 7.58738 6.05447 7.49954 5.83333 7.49954C5.6122 7.49954 5.40012 7.58738 5.24375 7.74375C5.08738 7.90012 4.99954 8.1122 4.99954 8.33333C4.99954 8.55447 5.08738 8.76655 5.24375 8.92292L9.41042 13.0896Z" fill="white"/>
    </svg>
      </div>
      <!-- Billing Header Mobile -->

      <div class="text-blockquote text-dark text-left w-screen px-4 min-[1100px]:hidden">[Visitor//Contact as Service Provider//Business Entity Name]</div>

      <!-- General Bill Info-->
      <div class="w-full justify-between items-start flex max-[1100px]:flex-col max-[1100px]:gap-[12px]">
        <div class="flex-col justify-start items-start gap-3 flex  max-[1100px]:gap-[12px]">
          <div class="text-center"><span style="font-normal font-['Inter'] leading-none">Job ID: </span><span style="font-normal font-['Inter']" class = "text-primary">#<span data-payment-text="Unique_ID"></span></span></div>
          <div class="text-center text-[#414042] text-base font-normal font-['Inter'] leading-none">Job Completed on :<span data-payment-text="Date_Completed"></span></div>
        </div>
        <div class="flex-col justify-start items-start gap-3 flex  max-[1100px]:gap-[12px]">
          <div class="justify-start items-center gap-1.5 flex">
            <div class="text-[#626c87] text-sm font-medium font-['Inter'] leading-[14px]">Xero Bill Status :</div>
            <div class="flex h-5 items-center justify-start gap-2 rounded"><div class="px-2 py-1 rounded-[12px] w-fit text-button" data-payment-status="Xero_Bill_Status" data-payment-status-type="xero" data-payment-default="N/A"></div></div>
          </div>
          <div class="justify-start items-center gap-1.5 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Bill Xero ID :</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Xero_ID"></div>
          </div>
        </div>
      </div>
      <!-- General Bill Info-->





      <!-- Bill From Section -->
      <div class="w-full px-4 pt-4 pb-6 bg-white rounded-lg border border-[#d3d7e2] flex-col gap-4 flex max-[1100px]:hidden">
        <div class="justify-start items-center gap-3 flex">
          <div class="text-[#414042] text-base font-medium font-['Inter'] leading-none">Bill From:</div>
          <div class="text-center text-[#414042] text-sm font-normal font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Business Entity Name]</div></div>
        <div class="w-full justify-between items-start gap-3 flex">
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Name</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//First Name] [Visitor//Contact as Service Provider//Last Name]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Number</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Account Number]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">BSB</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//BSB]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Job Rate</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Job Rate Percentage]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">ABN</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//ABN]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1.5 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">GST Registered
            </div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//GST Registered]</div>
          </div>
        </div>
      </div>
      <!-- Bill From Section -->



      <!-- Bill From Section -->
      <div class="w-full px-4 pt-4 pb-6 bg-white rounded-lg border border-[#d3d7e2] flex-col gap-4 flex min-[1100px]:hidden">
        <div class="justify-start items-center gap-3 flex">
          <div class="text-[#414042] text-base font-medium font-['Inter'] leading-none">Bill From:</div>
          <div class="text-center text-[#414042] text-sm font-normal font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Business Entity Name]</div></div>

        <div class="w-full justify-between items-start flex">

          <div class = "flex flex-col items-start gap-[12px]">
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Name</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//First Name] [Visitor//Contact as Service Provider//Last Name]</div>
            </div>
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Number</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Account Number]</div>
            </div>
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">BSB</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//BSB]</div>
            </div>
          </div>

          <div class = "flex flex-col items-start gap-[12px]">
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Job Rate</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//Job Rate Percentage]</div>
            </div>
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">ABN</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//ABN]</div>
            </div>
            <div class="flex-col justify-center items-start gap-1.5 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">GST Registered
              </div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Contact as Service Provider//GST Registered]</div>
            </div>
          </div>
        </div>
      </div>
      <!-- Bill From Section -->



      <!-- Bill To  Section -->
      <div class="w-full px-4 pt-4 pb-6 bg-white rounded-lg border border-[#d3d7e2] flex-col gap-4 flex max-[1100px]:hidden">
        <div class="justify-start items-center gap-3 flex">
          <div class="text-[#414042] text-base font-medium font-['Inter'] leading-none">Bill To</div>
        </div>
        <div class="w-full justify-between items-start gap-3 flex">
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Business Name</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business Name]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Name</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//First Name] [Visitor//Owner//Last Name]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">ABN</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business ABN]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1.5 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Address</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business Address], [Visitor//Owner//Business Address2], [Visitor//Owner//Business City] [Visitor//Owner//Business State]</div>
          </div>
        </div>

      </div>
      <!-- Bill To  Section -->


      <!-- Bill To  Section -->
      <div class="w-full px-4 pt-4 pb-6 bg-white rounded-lg border border-[#d3d7e2] flex-col gap-4 flex min-[1100px]:hidden">
        <div class="justify-start items-center gap-3 flex">
          <div class="text-[#414042] text-base font-medium font-['Inter'] leading-none">Bill To</div>
        </div>

        <div class = "flex flex-col items-start gap-[12px]">
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Business Name</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business Name]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Account Name</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//First Name] [Visitor//Owner//Last Name]</div>
          </div>
        </div>
        <div class = "flex flex-col items-start gap-[12px]">
          <div class="flex-col justify-center items-start gap-1 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">ABN</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business ABN]</div>
          </div>
          <div class="flex-col justify-center items-start gap-1.5 flex">
            <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Address</div>
            <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]">[Visitor//Owner//Business Address], [Visitor//Owner//Business Address2], [Visitor//Owner//Business City] [Visitor//Owner//Business State]</div>
          </div>
        </div>
      </div>
      <!-- Bill To  Section -->






      <!-- Client Invoice Section -->
      <div class="flex flex-col justify-between rounded-lg border border-[#d3d7e2] bg-white px-4 pb-6 pt-4 w-full gap-4">

        <div class = "flex items-center justify-between cursor-pointer" @click="isExpandedClientSection = ! isExpandedClientSection">
          <div class="text-h1 text-complementary">Client Invoice</div>
          <div class = "flex gap-4 items-center">
            <div class="text-[#36916a] text-base font-medium font-['Inter'] leading-none">Total : <span data-payment-text="Job_Total" data-payment-default="0"></span></div>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.4878 5.70213L8.42746 11.7624C8.37118 11.8188 8.30434 11.8635 8.23077 11.894C8.1572 11.9245 8.07834 11.9402 7.9987 11.9402C7.91906 11.9402 7.84019 11.9245 7.76662 11.894C7.69305 11.8635 7.62621 11.8188 7.56993 11.7624L1.50963 5.70213C1.39592 5.58841 1.33203 5.43418 1.33203 5.27336C1.33203 5.11254 1.39592 4.95831 1.50963 4.84459C1.62335 4.73088 1.77758 4.66699 1.9384 4.66699C2.09922 4.66699 2.25345 4.73088 2.36716 4.84459L7.9987 10.4769L13.6302 4.84459C13.6865 4.78829 13.7534 4.74362 13.827 4.71315C13.9005 4.68268 13.9794 4.66699 14.059 4.66699C14.1386 4.66699 14.2175 4.68268 14.291 4.71315C14.3646 4.74362 14.4315 4.78829 14.4878 4.84459C14.5441 4.9009 14.5887 4.96774 14.6192 5.04131C14.6497 5.11488 14.6654 5.19373 14.6654 5.27336C14.6654 5.35299 14.6497 5.43184 14.6192 5.50541C14.5887 5.57897 14.5441 5.64582 14.4878 5.70213Z" fill="#636D88"/>
            </svg>
          </div>
        </div>

        <div x-cloak x-show="isExpandedClientSection" id="accordionItemOne" role="region" aria-labelledby="controlsAccordionItemOne" x-collapse>
          <div class="flex flex-col items-start justify-start w-full">
            <div class="flex items-center justify-between border-b border-[#d3d7e2] py-4 pl-6 pr-3 w-full max-[1100px]:px-0">
              <div class="font-['Inter'] text-base font-medium leading-none text-[#414042]">Activity</div>
              <div class="font-['Inter'] text-base font-medium leading-none text-[#414042]">Total Price</div>
            </div>
            <div data-payment-activities></div>
          </div>
          <div class="flex-col items-center justify-center gap-6 rounded-lg bg-white px-4 pb-6 pt-4 w-full">
            <div class="flex flex-col gap-4">
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Payment Status</div>
                <div class="px-2 py-1 rounded-[12px] w-fit text-button" data-payment-status="Payment_Status" data-payment-status-type="payment" data-payment-default="N/A"></div>
              </div>
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Invoice Number</div>
                <a data-payment-href="Invoice_URL" class="font-['Inter'] text-base font-normal leading-tight text-primary text-underline"><div data-payment-text="Invoice_Number"></div></a>
              </div>
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Job SubTotal</div>
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]" data-payment-text="Job_Activity_Subtotal"></div>
              </div>
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">GST</div>
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]" data-payment-text="Job_GST"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Client Invoice Section -->




      <!-- Material Section -->
      <div class="flex flex-col justify-between rounded-lg border border-[#d3d7e2] bg-white px-4 pb-6 pt-4 w-full gap-4">
        <div class = "flex items-center justify-between cursor-pointer" @click="isExpandedMaterialsSection = ! isExpandedMaterialsSection">
          <div class="text-h1 text-complementary">Materials</div>
          <div class = "flex gap-4 items-center">
            <div class="text-[#36916a] text-base font-medium font-['Inter'] leading-none">Total : <span data-payment-text="Materials_Total" data-payment-default="0"></span></div>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.4878 5.70213L8.42746 11.7624C8.37118 11.8188 8.30434 11.8635 8.23077 11.894C8.1572 11.9245 8.07834 11.9402 7.9987 11.9402C7.91906 11.9402 7.84019 11.9245 7.76662 11.894C7.69305 11.8635 7.62621 11.8188 7.56993 11.7624L1.50963 5.70213C1.39592 5.58841 1.33203 5.43418 1.33203 5.27336C1.33203 5.11254 1.39592 4.95831 1.50963 4.84459C1.62335 4.73088 1.77758 4.66699 1.9384 4.66699C2.09922 4.66699 2.25345 4.73088 2.36716 4.84459L7.9987 10.4769L13.6302 4.84459C13.6865 4.78829 13.7534 4.74362 13.827 4.71315C13.9005 4.68268 13.9794 4.66699 14.059 4.66699C14.1386 4.66699 14.2175 4.68268 14.291 4.71315C14.3646 4.74362 14.4315 4.78829 14.4878 4.84459C14.5441 4.9009 14.5887 4.96774 14.6192 5.04131C14.6497 5.11488 14.6654 5.19373 14.6654 5.27336C14.6654 5.35299 14.6497 5.43184 14.6192 5.50541C14.5887 5.57897 14.5441 5.64582 14.4878 5.70213Z" fill="#636D88"/>
            </svg>
          </div>
        </div>
        <div x-cloak x-show="isExpandedMaterialsSection" id="accordionItemOne" role="region" aria-labelledby="controlsAccordionItemOne" x-collapse>
          <div class="flex flex-col items-start justify-start w-full">
            <div class="flex items-center justify-between border-b border-[#d3d7e2] py-4 pl-6 pr-3 w-full max-[1100px]:px-0">
              <div class="font-['Inter'] text-base font-medium leading-none text-[#414042] flex-1">Material</div>
              <div class="font-['Inter'] text-base font-medium leading-none text-[#414042] flex-1">Transaction Type</div>
              <div class="font-['Inter'] text-base font-medium leading-none text-[#414042] flex-1 text-right">Total</div>
            </div>
            <div data-payment-materials></div>
          </div>
          <div class="flex-col items-center justify-center gap-6 rounded-lg bg-white px-4 pb-6 pt-4 w-full">
            <div class="flex flex-col gap-4">
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Deduct Total</div>
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]" data-payment-text="Deduct_Total" data-payment-default="0"></div>
              </div>
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Reimburse Total</div>
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]" data-payment-text="Reimburse_Total" data-payment-default="0"></div>
              </div>
              <div class="flex items-center justify-between">
                <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Materials Total</div>
                <div class="font-['Inter'] text-lg font-semibold leading-tight text-[#414042]" data-payment-text="Materials_Total" data-payment-default="0"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Material Section -->




      <!-- Amounts Section -->
        <div class="flex flex-col gap-6 rounded-lg border border-[#d3d7e2] bg-white px-4 pb-6 pt-4 w-full">

          <div class="justify-between w-full gap-3 flex max-[1100px]:flex-col max-[1100px]:gap-[12px]">
            <div class="flex-col justify-center items-start gap-1.5 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Batch ID</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Batch_ID"></div>
            </div>
            <div class="flex-col justify-center items-start gap-1.5 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Batch Week</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Batch_Week"></div>
            </div>
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Bill Date</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Date"></div>
            </div>
            <div class="flex-col justify-center items-start gap-1 flex">
              <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Bill Due Date</div>
              <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Due_Date"></div>
            </div>
          </div>


          <div class="border-b border-[#d3d7e2]"></div>

          <div class="flex flex-col gap-4">
            <div class="flex items-center justify-between">
              <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">GST</div>
              <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]" data-payment-text="Bill_GST" data-payment-default="0"></div>
            </div>
            <div class="flex items-center justify-between">
              <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Commission Rate</div>
              <div
                class="font-['Inter'] text-base font-normal leading-tight text-[#414042]"
                data-payment-text="Primary_Service_Provider_Job_Rate_Percentage"
                data-payment-default="0"
                data-payment-suffix="%"
              ></div>

            </div>
            <div class="flex items-center justify-between">
              <div class="font-['Inter'] text-base font-normal leading-tight text-[#414042]">Bill Total (Including GST)</div>
              <div class="font-['Inter'] text-lg font-semibold leading-tight text-[#36916a]" data-payment-text="Bill_Total" data-payment-default="0"></div>
            </div>
          </div>
        </div>
      <!-- Amounts Section -->



      <div class="flex gap-4 justify-end w-full max-[1100px]:p-4 max-[1100px]:bg-white">
        <div class="flex items-center space-x-3 mr-auto hidden" data-payment-approval-checkbox>
          <input
            type="checkbox"
            class="confirmCheckbox form-checkbox !h-4 !w-4 text-primary border-gray-300 rounded focus:ring focus:ring-primary"
            data-payment-approve-checkbox
          />
          <label class="text-gray-700 text-h3">
            I confirm and accept the details of this bill.
          </label>
        </div>

        <div class="flex items-center space-x-3 mr-auto hidden" data-payment-approval-time>
          <div class="text-[#626c87] text-sm font-normal font-['Inter'] leading-tight">Bill Approval Time :</div>
          <div class="text-[#414042] text-sm font-medium font-['Inter'] leading-[14px]" data-payment-text="Bill_Approval_Time"></div>
        </div>
        <!-- Close Button -->
        <button class="hideInPDF closeApproval button-primary text-h3 cursor-pointer" @click = "modalIsOpen = false;">
          Close
        </button>

        <button
          type="button"
          class="hideInPDF approveButton button-primary text-h3 cursor-pointer hidden"
          data-payment-approve
          disabled
        >
          Approve Bill
        </button>
      </div>
    </div>
  </div>
</div>
    
    
